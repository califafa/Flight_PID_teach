#<center>\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*</center>
######<center>***Copyright (c) 2019/07/12 https://github.com/califafa. All rights reserved.***</center>
######<center></center>
><center>参考</center>
><center>https://www.cnblogs.com/clnchanpin/p/6939455.html</center>
><center>https://blog.csdn.net/RhythmWANG/article/details/78643095</center>
#<center>\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*</center>
#<center>四旋翼 PID 调参经验</center><center>______________________</center>


#
#
#



###大概过程：

>1. 预计大概的起飞油门， 所有的参数整定都应该在起飞油门下进行。

>2. 首先调整角速度内环参数。

>3. 调整完内环参数后， 再将角度外环加上， 调整外环参数。

###具体步骤：

####1. 先调整内环。
>理想的内环参数可以使飞控响应快而又不振荡。

>调整内环参数时， 应该让遥控器的指令直接控制内环（我的方法是：将外环的I和D清零， 遥控器指令只通过外环的P的比例缩放传递给内环， 相当于用遥控器直接控制内环）

#####1.1 P参数
>P太小： 控制响应无力， 飞行器倾斜后难以修正。

>P太大： 控制响应灵敏有力， 会有（很大的）振荡。可以理解为负反馈系数较大，当负反馈系数>1时， 系统就发散（振荡停不下来）。

>P合适： 控制响应较好， 振荡还是会有， 不过振荡几下就停止了。

>P参数调好之后， 再调D参数。

#####1.2 D参数
>D抑制振荡的效果很好。

>D会抑制超调（抑制惯性）。

>D会使控制响应变慢（这里是指比P的“全速冲刺”要慢， 但“全速冲刺”后还要跑好远才能停， 不能准确停到终点。D会使“选手”在将要到达终点时减速）。

>D太大会出现振荡。可以理解为负反馈系数较大，当负反馈系数>1时， 系统就发散（振荡停不下来）。

>D参数调好之后， 再调I参数。

#####1.3 I参数
>I参数会修正一些稳态误差。

>I参数会使响应变慢（这里是指有延迟，即飞控不能很快从上一个状态里走出来）。（有些人调的飞控内环没有I参数， 目测效果不错）。

#####1.4 内环参数微调
>可以根据自己飞行器的情况在原来的基础上微调参数， 使响应更快、振荡更小。

####2. 再调整外环

>外环也有P、I、D三个参数。

>在我的测试中， 外环只用了一个参数： P。 

>P太小： 控制不灵敏。

>P太大： 易产生振荡。可以理解为负反馈系数较大，当负反馈系数>1时， 系统就发散（振荡停不下来）。 

####3. PID参数整定完后， 什么效果？
>1. 控制灵敏， 指哪打哪。

>2. 不会出现明显的振荡（在起飞油门的情况下）。

####4. 注意事项
>1. 更换电机、电调， 装卸重物等等操作可能会导致原来的PID参数不适用。

>2. 试飞危险， 注意安全。